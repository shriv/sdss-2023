
# Walkability {#sec-walkability}

This analysis considers _local walkability_ by calculating travel times to the closest public playground. Playgrounds are a useful candidate to assess the potential of walking to a nearby amenity as they are distributed evenly through the city with an average catchment of 600m (@fig-wcc-playgrounds).  

![Locations of council playgrounds designed with a 600m catchment.](assets/wcc-playgrounds.png){width=80%, #fig-wcc-playgrounds}

## Distance and speed on hilly terrain
Distance-based planning is easy and objective. However, it doesn't translate well to people's decision making which are typically time-centric and, account for the 5Cs of walkability @londonplanningadvisorycommitteePuttingLondonBack1997. Hence, even simple distance to time conversions can be more informative to the layperson planning a walking trip to the park. @fig-map-dist-time shows a conversion from distance to time assuming a speed of 5km/h - a common conversion based on a fit adult e.g. [Section 3.4 in NZTA pedestrian planning and design guide](https://www.nzta.govt.nz/assets/resources/pedestrian-planning-guide/docs/pedestrian-planning-guide.pdf).  


![Walkability maps coloured as both distance (m) and time (minutes).](assets/flat-walkability-dist-time-map.png){#fig-map-dist-time}

As expected, the histograms of distance and time with a linear conversion look the same with the time variant being more useful for comparison with an upcoming trip - much like typical Google map direction checks. 

![](assets/flat-walkability-dist-time-histogram.png){#fig-hist-dist-time}


## Accounting for hills

A simple search led me to Naismith’s Rule and then to Tobler’s Hiking Function to calculate travel time as a function of distance and gradient.

I’ve chosen to go with Tobler’s without much rationale other than its simple form. Tobler’s hiking function for speed, 
$\nu$, is a shifted exponential with three parameters $a$, $b$ and $c$ which give the fastest speed, speed retardation due to gradient and shift from zero respectively.


$$

\nu = a \exp^{(-b|slope + c|)}
$$

Note that $slope$ in the equation is a dimensionless quantity: $\frac{dh}{dx}$  (or, rise / run). Terminology-wise, 
$slope$, is equivalent to gradient and inclination. Tobler’s function can also be written with slope in degrees (
$^\circ$). Similarly, speed is given in in km/h and can be converted to a travel time in minutes with a multiplicative factor, (60/1000). Both time and speed versions of Tobler’s function are shown in the graph below.


![](assets/toblers-params.png){#fig-toblers-params}
@fig-toblers-fn shows 

![](assets/toblers-fn.png){#fig-toblers-fn}

## Differences due to hills

While the Wellington City Council (WCC) plans playgrounds based on distance, the presence of hills can increase travel times by up 20 minutes. 


![](assets/walkability-difference-hills.png)


## Walkability by suburb

![Forest plot showing average ($\mu$) and spread ($\sigma$) in walking time to the nearest playground.](assets/modelling-suburbs.png)


